@model cmcookies.Models.ViewModels.Account.LoginViewModel

@{
    ViewData["Title"] = "Login";
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Cam Cookies</title>
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="~/css/auth.css" />
</head>
<body>
    <div class="auth-wrapper">
        <div class="auth-container">
            <!-- HEADER -->
            <div class="auth-header">
                <img src="~/images/logo.png" alt="Cam Cookies Logo" />
                <h2>Welcome Back!</h2>
                <p>Sign in to continue to Cam Cookies游꼵 :D</p>
            </div>

            <!-- BODY -->
            <div class="auth-body">
                <!-- Mostrar errores de validaci칩n generales -->
                <div asp-validation-summary="All" class="validation-summary-errors"></div>

                <form asp-action="Login" asp-route-returnUrl="@ViewData["ReturnUrl"]" method="post"> <!--Si un usuario no loggeado intenta ir a /Admin/Dashboard por ejemplo, ASP.NET lo redirige a Loggin y el GET de loggin guarda que quiso ir hacia Dashboard. Este se loggea, y el POST lee el returnURL y lo redirige-->
                    <!-- Email -->
                    <div class="form-group">
                        <label asp-for="Email" class="form-label">Email Address</label>
                        <input asp-for="Email" class="form-control" placeholder="your@email.com" autofocus /> <!--cuando la pag carga el cursor ya esta sobre el campo del email, para que el usuario pueda empezar a escribir sin hacerle click-->
                        <span asp-validation-for="Email" class="invalid-feedback"></span>
                    </div>

                    <!-- Password -->
                    <div class="form-group">
                        <label asp-for="Password" class="form-label">Password</label>
                        <input asp-for="Password" class="form-control" placeholder="Enter your password" />
                        <span asp-validation-for="Password" class="invalid-feedback"></span>
                    </div>

                    <!-- Remember Me -->
                    <!-- 
                    El tag helper `asp-for` genera un input oculto junto al checkbox.
                    Esto asegura que siempre se env칤e un valor ('true' si est치 marcado, 'false' si no),
                    solucionando el comportamiento est치ndar de HTML donde los checkboxes desmarcados no env칤an nada.
                    -->
                    <div class="form-check">
                        <input asp-for="RememberMe" class="form-check-input" />
                        <label asp-for="RememberMe" class="form-check-label">
                            Keep me signed in for 14 days
                        </label>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" class="btn btn-primary btn-auth">Sign In</button>
                </form>
            </div>

            <!-- FOOTER -->
            <div class="auth-footer">
                <p>Don't have an account? <a asp-action="Register" class="auth-link">Create Account</a></p>
            </div>
        </div>
    </div>

    <!-- Scripts de validaci칩n -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
</body>
</html>